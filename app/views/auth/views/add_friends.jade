
.well(ng-controller="AddFriendCtrl")
  input.input-medium.search(type="text", ng-model="keywords", placeholder="Search...", ng-model-options="{debounce: 500}")

  center
    h3.themed-text(ng-if="results.length === 0") Search for members by name or email
    
  div
    hr
    .search-result(ng-repeat="result in results | orderBy:'username'", ng-if="results.length > 0", style="position: relative")
      h3(style="position: absolute; top: 0.2em; left: 0.3em; margin: 0") {{ result.first_name }} {{ result.last_name }}
      a(href="/user/{{ result.username }}", style="position: absolute; bottom: 0.3em; left: 0.6em; margin: 0") {{ result.username }}
        span(style="font-size: 80%; font-style: italic") ({{ result.rank }})

      input(type="button", value="friends", style="position: absolute; bottom: 0; right: 0;", disabled="true", ng-if="result.is_friend")
      input(type="button", value="request sent", style="position: absolute; bottom: 0; right: 0;", disabled="true", ng-if="result.has_sent_request")
      input(type="button", value="accept request", style="position: absolute; bottom: 0; right: 0;", ng-if="result.has_recv_request", ng-click="make_request(result)")
      input(type="button", value="add friend", style="position: absolute; bottom: 0; right: 0;", ng-if="result.no_interaction", ng-click="make_request(result)")

  center
    h4.themed-text(ng-if="results.length === 0 && keywords && !searching") No results... try a different keyword
    h4.themed-text(ng-if="results.length === 0 && keywords && searching") Searching...